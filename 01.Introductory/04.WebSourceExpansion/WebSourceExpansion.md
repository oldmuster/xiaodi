## 基础入门-WEB源码拓展

```
前言：WEB源码在安全测试中是非常重要的信息来源，可以用来代码审计漏洞也可以用来做信息突破口，其中WEB源码有很多技术需要简明分析。比如：获取某ASP源码后可以采用默认数据库下载为突破，获取某其他脚本源码漏洞可以进行代码审计挖掘或分析其业务逻辑等，总之源码的获取将为后期的安全测试提供更多的思路
```

![导图](imgs\导图.png)

### 本节内容

```
关于WEB源码目录结构
	了解架构便于理解
关于WEB源码脚本类型
	不同脚本的数据存储方式不同
	脚本语言分为解释型和编译型
	用不同的脚本语言写的代码涉及到的漏洞也不同
关于WEB源码应用分类
	源码的功能决定漏洞类型
关于WEB源码其他说明
```

- 数据库配置文件、后台目录、模板目录、数据库目录等

  ​	数据库配置文件一般在include、confing文件中

![网站源码目录](imgs\网站源码目录.png)



- ASP、PHP、ASPX、JSP、JAVAWEB等脚本类型源码安全问题

  ```
  参考网站：https://websec.readthedocs.io/zh/latest/language/index.html
  ```

  

- 社交、论坛、门户、第三方、博客等不同代码机制对应漏洞

- 开源、未开源问题，框架、非框架问题，关于CMS识别问题及后续等

- 关于源码获取的相关途径：搜索、闲鱼、淘宝、第三方源码站、各种行业对应

- 总结：

  ```
  关注应用分类及脚本类型估计可能存在的漏洞（其中框架类例外），在获取源码后可进行本地安全测试或代码审计，也可以分析器目录工作原理（数据库备份，bak文件等），未获得到的源码采用各种方法想办法获取
  ```


### 本节案例

- ASP、PHP等源码下安全测试

  ```
  平台识别-某CMS无漏洞-默认数据库
  平台识别-某CMS有漏洞-漏洞利用
  ```

  - 随便打开一个网站里面的文件，可以看到有.asp的后缀，则这是一个asp程序

  ![case1](imgs\case1.png)

  - 在网站下方可以看到一些关键字

  ![case2](imgs\case2.png)

  - 根据这个关键字，在浏览器中找到相应源码，在源码中可以找到asp程序特有的mdb文件

  ![case3](imgs\case3.png)

  - 根据mdb文件，可以找到和管理员相关的表

  ![case4](imgs\case4.png)

  - 这样我们就可以根据这个账号（解密后的密码）登录网站后台

  cms识别--简单人工：根据网站内容得到程序名，之后再到浏览器中去搜索源码或者搜索漏洞

  cms识别--工具（不推荐）：扫描网站的特有文件得到程序名 。下载特有文件，得到文件的md5值，放到表中去匹配。

  cms识别--平台识别：例如云悉，在线指纹识别等 

- 源码应用分类下的针对漏洞

  ```
  niushop电商类关注漏洞点-业务逻辑
  ```

  根据网站的功能测试漏洞

  

- 简要目标从识别到源码获取

  ```
  本地演示个人博客-手工发现其CMS-漏洞搜索或下载分析-内部搭建靶场
  人工爆破框架-搜索特定url-获取其他相符站点-漏洞测试
  借助特定行业源码或闲鱼进行搜索获取-本地搭建-代码审计或其他
  ```

### 总结

```
程序源码的重要性

程序源码的获取途径

源码获取到之后，可以对源码进行代码审计、漏洞挖掘、本地的一些安全测试来发现漏洞再进行漏洞测试

源码的编写脚本将决定源码的漏洞情况

网站的cms识别技术

根据网站的分类，网站会有不同的漏洞

目录结构
```

